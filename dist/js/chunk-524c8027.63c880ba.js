(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-524c8027"],{"6c2e":function(e,t,c){"use strict";c("71f4")},"71f4":function(e,t,c){},"84af":function(e,t,c){"use strict";var a=c("7a23"),l={class:"text-white ps-4 py-2 pe-1 lh-base s1-animate"};function o(e,t,c,o,r,n){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"banner",style:Object(a["normalizeStyle"])({backgroundImage:"url(".concat(c.imgUrl,")")})},[Object(a["createElementVNode"])("h1",l,Object(a["toDisplayString"])(c.title),1)],4)}var r={props:["title","imgUrl"]};c("6c2e");r.render=o;t["a"]=r},b0c0:function(e,t,c){var a=c("83ab"),l=c("9bf2").f,o=Function.prototype,r=o.toString,n=/^\s*function ([^ (]*)/,s="name";a&&!(s in o)&&l(o,s,{configurable:!0,get:function(){try{return r.call(this).match(n)[1]}catch(e){return""}}})},cf2a:function(e,t,c){"use strict";c.r(t);var a=c("7a23"),l={id:"user-order"};function o(e,t,c,o,r,n){var s=Object(a["resolveComponent"])("order-section-1"),i=Object(a["resolveComponent"])("order-section-2");return Object(a["openBlock"])(),Object(a["createElementBlock"])("main",l,[Object(a["createVNode"])(s),Object(a["createVNode"])(i)])}var r={class:"order-section-1"};function n(e,t,c,l,o,n){var s=Object(a["resolveComponent"])("Banner");return Object(a["openBlock"])(),Object(a["createElementBlock"])("section",r,[Object(a["createVNode"])(s,{title:o.title,imgUrl:o.publicPath+o.imgUrl},null,8,["title","imgUrl"])])}var s=c("84af"),i={components:{Banner:s["a"]},data:function(){return{publicPath:"/icamping/",title:"訂購資訊",imgUrl:"/images/cart/cart-01.jpg"}}};i.render=n;var d=i,m=(c("b0c0"),Object(a["createElementVNode"])("div",{class:"loadingio-spinner-spin-xmpavumjb"},[Object(a["createElementVNode"])("div",{class:"ldio-ylwm2fadiqf"},[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")])])],-1)),b={class:"order-section-2"},u={class:"container py-5"},O={class:"row"},j={class:"col-lg-6 mb-5"},v={class:"card rounded-0"},V=Object(a["createElementVNode"])("div",{class:"card-header rounded-0 bg-info text-white"},[Object(a["createElementVNode"])("h2",{class:"fs-4 my-1"},"訂單資訊")],-1),f={class:"card-body px-sm-4"},p={class:"col-8"},N={class:"me-2"},E={class:"fs-7 text-muted"},g={class:"col-4 text-end"},h={class:"row g-0 py-2 border-top"},y=Object(a["createElementVNode"])("div",{class:"col-8"},"小計：",-1),k={class:"col-4 text-end"},w={key:0,class:"row g-0 py-2 text-success border-bottom border-dark"},x=Object(a["createElementVNode"])("div",{class:"col-8"},"折扣：",-1),B={class:"col-4 text-end"},C={class:"row g-0 py-2"},S=Object(a["createElementVNode"])("div",{class:"col-8"},"合計：",-1),$={class:"col-4 text-end"},U={class:"col-lg-6 mb-5"},D={class:"card rounded-0"},L=Object(a["createElementVNode"])("div",{class:"card-header rounded-0 bg-info text-white"},[Object(a["createElementVNode"])("h2",{class:"fs-4 my-1"},"訂購者資料")],-1),T={class:"card-body"},_={class:"mb-3"},F=Object(a["createElementVNode"])("label",{for:"name",class:"form-label mb-1"},"訂購者姓名",-1),q={class:"mb-3"},z=Object(a["createElementVNode"])("label",{for:"email",class:"form-label mb-1"},"電子信箱",-1),P=Object(a["createElementVNode"])("span",{class:"fs-7 text-muted"},"請填入訂單通知Email (訂單資訊將以此E-mail通知您)",-1),I={class:"mb-3"},J=Object(a["createElementVNode"])("label",{for:"phone",class:"form-label mb-1"},"連絡電話",-1),M={class:"mb-3"},A=Object(a["createElementVNode"])("label",{for:"note",class:"form-label mb-1"},"訂單備註",-1),G=Object(a["createElementVNode"])("div",{class:"row"},[Object(a["createElementVNode"])("div",{class:"col-sm-5 mb-3"},[Object(a["createElementVNode"])("a",{href:"#/cart",class:"btn btn-outline-success w-100"},[Object(a["createElementVNode"])("i",{class:"bi bi-caret-left-fill"}),Object(a["createTextVNode"])(" 返回購物車")])]),Object(a["createElementVNode"])("div",{class:"col-sm-3"}),Object(a["createElementVNode"])("div",{class:"col-sm-4 mb-3"},[Object(a["createElementVNode"])("button",{type:"submit",class:"btn btn-success text-white w-100"}," 提交訂單 ")])],-1);function H(e,t,c,l,o,r){var n=Object(a["resolveComponent"])("Loading"),s=Object(a["resolveComponent"])("Field"),i=Object(a["resolveComponent"])("error-message"),d=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(n,{active:o.isLoading},{default:Object(a["withCtx"])((function(){return[m]})),_:1},8,["active"]),Object(a["createElementVNode"])("section",b,[Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("div",v,[V,Object(a["createElementVNode"])("div",f,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.cart.carts,(function(t,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:c,class:"row g-0 py-2"},[Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("span",N,Object(a["toDisplayString"])(t.product.belong_to)+" / "+Object(a["toDisplayString"])(t.product.title),1),Object(a["createElementVNode"])("span",E,"( 數量："+Object(a["toDisplayString"])(t.qty)+" )",1)]),Object(a["createElementVNode"])("div",g," NT$ "+Object(a["toDisplayString"])(e.$filters.currency(t.total)),1)])})),128)),Object(a["createElementVNode"])("div",h,[y,Object(a["createElementVNode"])("div",k," NT$ "+Object(a["toDisplayString"])(e.$filters.currency(o.cart.total)),1)]),o.cart.final_total!==o.cart.total?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",w,[x,Object(a["createElementVNode"])("div",B," - NT$ "+Object(a["toDisplayString"])(e.$filters.currency(o.cart.total-o.cart.final_total)),1)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",C,[S,Object(a["createElementVNode"])("div",$," NT$ "+Object(a["toDisplayString"])(e.$filters.currency(o.cart.final_total)),1)])])])]),Object(a["createElementVNode"])("div",U,[Object(a["createElementVNode"])("div",D,[L,Object(a["createElementVNode"])("div",T,[Object(a["createVNode"])(d,{onSubmit:r.createOrder},{default:Object(a["withCtx"])((function(e){var c=e.errors;return[Object(a["createElementVNode"])("div",_,[F,Object(a["createVNode"])(s,{id:"name",name:"name",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["name"]}]),rules:"required",modelValue:o.form.user.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.form.user.name=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(i,{name:"name",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",q,[z,Object(a["createVNode"])(s,{id:"email",name:"email",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["email"]}]),rules:"required|email",modelValue:o.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.form.user.email=e})},null,8,["class","modelValue"]),P,Object(a["createVNode"])(i,{name:"email",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",I,[J,Object(a["createVNode"])(s,{id:"phone",name:"phone",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["phone"]}]),rules:r.isPhone,modelValue:o.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.form.user.tel=e})},null,8,["rules","class","modelValue"]),Object(a["createVNode"])(i,{name:"phone",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",M,[A,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{name:"note",id:"note",rows:"5",class:"form-control",placeholder:"有什麼想告訴營主嗎?","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.form.message=e})},null,512),[[a["vModelText"],o.form.message]])]),G]})),_:1},8,["onSubmit"])])])])])])])],64)}c("99af");var K={data:function(){return{cart:{},form:{user:{name:"",email:"",tel:"",address:"none"},message:""},isLoading:!1}},methods:{getCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/cart");this.isLoading=!0,this.$http.get(t).then((function(t){e.isLoading=!1,e.cart=t.data.data}))},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請輸入正確的電話號碼"},createOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/order"),c=this.form;this.$http.post(t,{data:c}).then((function(t){t.data.success&&(console.log(t),e.$router.push("/checkout/".concat(t.data.orderId)))}))}},created:function(){this.getCarts()}};K.render=H;var Q=K,R={components:{OrderSection1:d,OrderSection2:Q}};R.render=o;t["default"]=R}}]);
//# sourceMappingURL=chunk-524c8027.63c880ba.js.map