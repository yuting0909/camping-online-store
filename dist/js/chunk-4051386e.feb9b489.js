(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4051386e"],{"159b":function(e,t,c){var o=c("da84"),r=c("fdbc"),n=c("17c2"),a=c("9112");for(var i in r){var l=o[i],s=l&&l.prototype;if(s&&s.forEach!==n)try{a(s,"forEach",n)}catch(d){s.forEach=n}}},1799:function(e,t,c){"use strict";var o=c("7a23"),r={"aria-label":"Page navigation example"},n={class:"pagination justify-content-center"},a=Object(o["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),i=[a],l=["onClick"],s=Object(o["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),d=[s];function u(e,t,c,a,s,u){return Object(o["openBlock"])(),Object(o["createElementBlock"])("nav",r,[Object(o["createElementVNode"])("ul",n,[Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])(["page-item",{disabled:1===c.pages.current_page}])},[Object(o["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(t){return e.$emit("update-page",c.pages.current_page-1)}),["prevent"]))},i)],2),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(c.pages.total_pages,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:Object(o["normalizeClass"])(["page-item",{active:t===c.pages.current_page}]),key:t},[Object(o["createElementVNode"])("a",{class:"page-link",href:"#",onClick:Object(o["withModifiers"])((function(c){return e.$emit("update-page",t)}),["prevent"])},Object(o["toDisplayString"])(t),9,l)],2)})),128)),Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])(["page-item",{disabled:c.pages.current_page===c.pages.total_pages}])},[Object(o["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(t){return e.$emit("update-page",c.pages.current_page+1)}),["prevent"]))},d)],2)])])}var b={props:["pages"]};b.render=u;t["a"]=b},"17c2":function(e,t,c){"use strict";var o=c("b727").forEach,r=c("a640"),n=r("forEach");e.exports=n?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},2532:function(e,t,c){"use strict";var o=c("23e7"),r=c("5a34"),n=c("1d80"),a=c("577e"),i=c("ab13");o({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~a(n(this)).indexOf(a(r(e)),arguments.length>1?arguments[1]:void 0)}})},"466d":function(e,t,c){"use strict";var o=c("d784"),r=c("825a"),n=c("50c4"),a=c("577e"),i=c("1d80"),l=c("8aa5"),s=c("14c3");o("match",(function(e,t,c){return[function(t){var c=i(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,c):new RegExp(t)[e](a(c))},function(e){var o=r(this),i=a(e),d=c(t,o,i);if(d.done)return d.value;if(!o.global)return s(o,i);var u=o.unicode;o.lastIndex=0;var b,p=[],f=0;while(null!==(b=s(o,i))){var m=a(b[0]);p[f]=m,""===m&&(o.lastIndex=l(i,n(o.lastIndex),u)),f++}return 0===f?null:p}]}))},4942:function(e,t,c){"use strict";c("ae4b")},"5a34":function(e,t,c){var o=c("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},"6c2e":function(e,t,c){"use strict";c("71f4")},"71f4":function(e,t,c){},"84af":function(e,t,c){"use strict";var o=c("7a23"),r={class:"text-white ps-4 py-2 pe-1 lh-base s1-animate"};function n(e,t,c,n,a,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"banner",style:Object(o["normalizeStyle"])({backgroundImage:"url(".concat(c.imgUrl,")")})},[Object(o["createElementVNode"])("h1",r,Object(o["toDisplayString"])(c.title),1)],4)}var a={props:["title","imgUrl"]};c("6c2e");a.render=n;t["a"]=a},9170:function(e,t,c){},a434:function(e,t,c){"use strict";var o=c("23e7"),r=c("23cb"),n=c("a691"),a=c("50c4"),i=c("7b0b"),l=c("65f0"),s=c("8418"),d=c("1dde"),u=d("splice"),b=Math.max,p=Math.min,f=9007199254740991,m="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var c,o,d,u,v,g,h=i(this),O=a(h.length),j=r(e,O),E=arguments.length;if(0===E?c=o=0:1===E?(c=0,o=O-j):(c=E-2,o=p(b(n(t),0),O-j)),O+c-o>f)throw TypeError(m);for(d=l(h,o),u=0;u<o;u++)v=j+u,v in h&&s(d,u,h[v]);if(d.length=o,c<o){for(u=j;u<O-o;u++)v=u+o,g=u+c,v in h?h[g]=h[v]:delete h[g];for(u=O;u>O-o+c;u--)delete h[u-1]}else if(c>o)for(u=O-o;u>j;u--)v=u+o-1,g=u+c-1,v in h?h[g]=h[v]:delete h[g];for(u=0;u<c;u++)h[u+j]=arguments[u+2];return h.length=O-o+c,d}})},a640:function(e,t,c){"use strict";var o=c("d039");e.exports=function(e,t){var c=[][e];return!!c&&o((function(){c.call(null,t||function(){throw 1},1)}))}},ab13:function(e,t,c){var o=c("b622"),r=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(c){try{return t[r]=!1,"/./"[e](t)}catch(o){}}return!1}},ae4b:function(e,t,c){},c740:function(e,t,c){"use strict";var o=c("23e7"),r=c("b727").findIndex,n=c("44d2"),a="findIndex",i=!0;a in[]&&Array(1)[a]((function(){i=!1})),o({target:"Array",proto:!0,forced:i},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(a)},caad:function(e,t,c){"use strict";var o=c("23e7"),r=c("4d64").includes,n=c("44d2");o({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},e6b6:function(e,t,c){"use strict";c("9170")},e6dc:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),r={id:"user-products"};function n(e,t,c,n,a,i){var l=Object(o["resolveComponent"])("products-section-1"),s=Object(o["resolveComponent"])("products-section-2");return Object(o["openBlock"])(),Object(o["createElementBlock"])("main",r,[Object(o["createVNode"])(l),Object(o["createVNode"])(s)])}var a={class:"products-section-1"};function i(e,t,c,r,n,i){var l=Object(o["resolveComponent"])("Banner");return Object(o["openBlock"])(),Object(o["createElementBlock"])("section",a,[Object(o["createVNode"])(l,{title:n.title,imgUrl:n.publicPath+n.imgUrl},null,8,["title","imgUrl"])])}var l=c("84af"),s={components:{Banner:l["a"]},data:function(){return{publicPath:"/icamping/dist/",title:"尋找營區",imgUrl:"/images/products/products-01.jpg"}}};s.render=i;var d=s,u=Object(o["createElementVNode"])("div",{class:"loadingio-spinner-spin-xmpavumjb"},[Object(o["createElementVNode"])("div",{class:"ldio-ylwm2fadiqf"},[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div")])])],-1),b={class:"products-section-2"},p={class:"container pt-3 pt-md-5"},f={class:"row"},m={class:"col-lg-4 col-xl-3 d-none d-lg-block"},v={class:"card rounded-4"},g={class:"card-body py-4"},h={class:"regions pb-4 mb-4 border-bottom"},O=Object(o["createElementVNode"])("h2",{class:"fs-4 mb-3"}," 目的地 ",-1),j=["id","value"],E=["for"],k={class:"features"},N=Object(o["createElementVNode"])("h2",{class:"fs-4 mb-3"},"營區特色",-1),V=["id","value"],y=["for"],w={class:"col d-lg-none"},B={class:"row g-2"},x=Object(o["createElementVNode"])("div",{class:"col-6"},[Object(o["createElementVNode"])("button",{class:"btn btn-primary w-100 w-sm-fit",type:"button","data-bs-toggle":"collapse","data-bs-target":"#categoryFilter","aria-expanded":"false","aria-controls":"categoryFilter"},[Object(o["createTextVNode"])(" 條件篩選"),Object(o["createElementVNode"])("i",{class:"bi bi-search ms-2"})])],-1),F={class:"col-6 d-sm-none"},C={class:"mb-3"},S={class:"collapse mt-3",id:"categoryFilter"},P={class:"card bg-light p-2 rounded-0 border-0"},U={class:"row g-1 regions mb-2"},_=Object(o["createElementVNode"])("div",{class:"d-none d-sm-block col-sm-2 pt-2"},[Object(o["createElementVNode"])("h2",{class:"fs-7"},[Object(o["createTextVNode"])(" 目的地 "),Object(o["createElementVNode"])("i",{class:"bi bi-caret-right-fill"})])],-1),D={class:"col region-tags"},I=["id","value"],M=["for"],L={class:"row g-1 features"},R=Object(o["createElementVNode"])("div",{class:"d-none d-sm-block col-sm-2 pt-2"},[Object(o["createElementVNode"])("h2",{class:"fs-7"},[Object(o["createTextVNode"])(" 營區特色 "),Object(o["createElementVNode"])("i",{class:"bi bi-caret-right-fill"})])],-1),T={class:"col region-tags"},$=["id","value"],A=["for"],J={class:"col-lg-8 col-xl-9"},z={key:0,class:"row g-2 mb-3"},q={class:"col"},H={class:"input-group"},G=Object(o["createElementVNode"])("span",{class:"input-group-text bg-primary text-light"},"搜尋營區",-1),K={class:"col-2 col-sm-4 col-md-3 d-none d-sm-block"},Q=Object(o["createElementVNode"])("i",{class:"bi bi-suit-heart-fill me-2"},null,-1),W=Object(o["createTextVNode"])("收藏的營地 "),X=[Q,W],Y={key:1,class:"row g-2 mb-3"},Z={class:"col d-flex align-items-center"},ee=Object(o["createElementVNode"])("h2",{class:"fs-4 fw-bold m-0 me-3"},"收藏的營地",-1),te={key:0,class:"row mb-3"},ce={class:"fs-6 mb-3"},oe={key:1,class:"pt-3"},re=Object(o["createElementVNode"])("h3",{class:"fs-5 fw-bold"},"目前沒有收藏的營地喔",-1),ne=[re],ae={key:0,class:"row mb-3"},ie={class:"fs-6 mb-3"},le={key:1,class:"pt-3"},se=Object(o["createElementVNode"])("h3",{class:"fs-5 fw-bold"},"沒有符合條件的營地喔",-1),de=[se];function ue(e,t,c,r,n,a){var i=Object(o["resolveComponent"])("Loading"),l=Object(o["resolveComponent"])("product-card"),s=Object(o["resolveComponent"])("Pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,{active:n.isLoading},{default:Object(o["withCtx"])((function(){return[u]})),_:1},8,["active"]),Object(o["createElementVNode"])("section",b,[Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("div",h,[O,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.regions,(function(e,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:c},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox",class:"btn-check",id:e,value:e,autocomplete:"off","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.filterRegions=e})},null,8,j),[[o["vModelCheckbox"],n.filterRegions]]),Object(o["createElementVNode"])("label",{class:"btn btn-outline-secondary btn-hover-white rounded-pill fs-7 py-1 px-3 my-1 me-2",for:e},"# "+Object(o["toDisplayString"])(e),9,E)],64)})),128))]),Object(o["createElementVNode"])("div",k,[N,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.features,(function(e,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:c},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox",class:"btn-check",id:e,value:e,autocomplete:"off","onUpdate:modelValue":t[1]||(t[1]=function(e){return n.filterFeatures=e})},null,8,V),[[o["vModelCheckbox"],n.filterFeatures]]),Object(o["createElementVNode"])("label",{class:"btn btn-outline-secondary btn-hover-white rounded-pill fs-7 py-1 px-3 my-1 me-2",for:e},"# "+Object(o["toDisplayString"])(e),9,y)],64)})),128))])])])]),Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("div",B,[x,Object(o["createElementVNode"])("div",F,[n.showFavorite?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,class:"btn btn-outline-success btn-hover-white w-100",onClick:t[3]||(t[3]=function(e){return a.favoriteHandler()})}," 查看所有營地 ")):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:0,class:"btn btn-outline-warning btn-hover-white w-100",onClick:t[2]||(t[2]=function(e){return a.favoriteHandler()})}," 收藏的營地 "))])]),Object(o["createElementVNode"])("div",C,[Object(o["createElementVNode"])("div",S,[Object(o["createElementVNode"])("div",P,[Object(o["createElementVNode"])("div",U,[_,Object(o["createElementVNode"])("div",D,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.regions,(function(e,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:c},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox",class:"btn-check",id:e,value:e,autocomplete:"off","onUpdate:modelValue":t[4]||(t[4]=function(e){return n.filterRegions=e})},null,8,I),[[o["vModelCheckbox"],n.filterRegions]]),Object(o["createElementVNode"])("label",{class:"btn btn-outline-secondary btn-hover-white rounded-pill fs-7 py-1 px-3 my-1 me-2",for:e},"# "+Object(o["toDisplayString"])(e),9,M)],64)})),128))])]),Object(o["createElementVNode"])("div",L,[R,Object(o["createElementVNode"])("div",T,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.features,(function(e,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:c},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"checkbox",class:"btn-check",id:e,value:e,autocomplete:"off","onUpdate:modelValue":t[5]||(t[5]=function(e){return n.filterFeatures=e})},null,8,$),[[o["vModelCheckbox"],n.filterFeatures]]),Object(o["createElementVNode"])("label",{class:"btn btn-outline-secondary btn-hover-white rounded-pill fs-7 py-1 px-3 my-1 me-2",for:e},"# "+Object(o["toDisplayString"])(e),9,A)],64)})),128))])])])])])]),Object(o["createElementVNode"])("div",J,[n.showFavorite?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Y,[Object(o["createElementVNode"])("div",Z,[ee,Object(o["createElementVNode"])("button",{class:"btn btn-outline-success btn-hover-white d-none d-sm-block",onClick:t[8]||(t[8]=function(e){return a.favoriteHandler()})}," 查看所有營地 ")])])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",z,[Object(o["createElementVNode"])("div",q,[Object(o["createElementVNode"])("form",null,[Object(o["createElementVNode"])("div",H,[G,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入營區名稱","onUpdate:modelValue":t[6]||(t[6]=function(e){return n.keyword=e})},null,512),[[o["vModelText"],n.keyword]])])])]),Object(o["createElementVNode"])("div",K,[Object(o["createElementVNode"])("button",{class:"btn btn-outline-warning btn-hover-white w-100",onClick:t[7]||(t[7]=function(e){return a.favoriteHandler()})},X)])])),n.showFavorite?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[n.favorite.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",te,[Object(o["createElementVNode"])("h3",ce,"搜尋結果："+Object(o["toDisplayString"])(n.favoriteNum)+"個",1),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.favorite,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"col-sm-6 col-lg-6 col-xl-4 mb-3",key:t},[Object(o["createVNode"])(l,{product:e,onUpdateFavorite:a.updateFavorite},null,8,["product","onUpdateFavorite"])])})),128))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oe,ne))],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:3},[n.products.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ae,[Object(o["createElementVNode"])("h3",ie,"搜尋結果："+Object(o["toDisplayString"])(n.productsNum)+"個",1),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.products,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"col-sm-6 col-lg-6 col-xl-4 mb-3",key:t},[Object(o["createVNode"])(l,{product:e,onUpdateFavorite:a.updateFavorite},null,8,["product","onUpdateFavorite"])])})),128))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",le,de)),Object(o["createVNode"])(s,{pages:n.pagination,onUpdatePage:a.getProducts},null,8,["pages","onUpdatePage"])],64))])])])])],64)}c("99af"),c("4de4"),c("fb6a"),c("159b"),c("caad"),c("2532"),c("ac1f"),c("466d");var be={class:"card border-0 text-decoration-none text-reset h-100 shadow"},pe=Object(o["createElementVNode"])("path",{d:"M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z"},null,-1),fe=[pe],me=["src","alt"],ve={class:"card-body d-flex flex-nowrap px-2 py-3"},ge={class:"card-title fw-bold text-hidden"},he={class:"card-price fs-7 text-warning ms-auto w-50 w-lg-auto text-end"};function Oe(e,t,c,r,n,a){var i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",be,[Object(o["createElementVNode"])("button",{class:"btn favorite-icon position-absolute px-2 py-1 mb-2",onClick:t[0]||(t[0]=function(e){return a.addToFavorite(c.product.id)})},[(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",class:Object(o["normalizeClass"])(["bi bi-suit-heart-fill",{active:n.isFavorite}]),viewBox:"0 0 16 16"},fe,2))]),Object(o["createVNode"])(i,{class:"stretched-link",to:"/products/".concat(c.product.id)},null,8,["to"]),Object(o["createElementVNode"])("img",{src:c.product.imageUrl,class:"card-img-top product-img",alt:c.product.title},null,8,me),Object(o["createElementVNode"])("div",ve,[Object(o["createElementVNode"])("div",ge,Object(o["toDisplayString"])(c.product.city)+" | "+Object(o["toDisplayString"])(c.product.title),1),Object(o["createElementVNode"])("div",he," NT "+Object(o["toDisplayString"])(e.$filters.currency(c.product.price))+" 起 ",1)])])}c("c740"),c("a434");var je={data:function(){return{isFavorite:!1}},props:["product"],methods:{addToFavorite:function(e){this.isFavorite=!this.isFavorite;var t=JSON.parse(localStorage.getItem("favoriteProducts"))||[];if(t.some((function(t){return t.id===e}))){var c=t.findIndex((function(t){return t.id===e}));t.splice(c,1)}else t.push(this.product);localStorage.setItem("favoriteProducts",JSON.stringify(t)),this.$emit("update-favorite",this.isFavorite)}},mounted:function(){var e=this,t=JSON.parse(localStorage.getItem("favoriteProducts"))||[];t.length&&(this.isFavorite=t.some((function(t){return t.id===e.product.id})))},updated:function(){var e=this,t=JSON.parse(localStorage.getItem("favoriteProducts"))||[];t.length&&(this.isFavorite=t.some((function(t){return t.id===e.product.id})))}};c("e6b6");je.render=Oe;var Ee=je,ke=c("1799"),Ne={components:{ProductCard:Ee,Pagination:ke["a"]},data:function(){return{regions:["北部","中部","南部","東部","離島"],features:["免裝備","裝備租借","雨棚","遊戲設施","玩水","高海拔","森林","草原","靠海","近溪流","夜景","雲海"],keyword:"",filterRegions:[],filterFeatures:[],showFavorite:!1,favorite:[],products:[],productsNum:"",favoriteNum:"",isLoading:!1,pagination:{current_page:1,offset:9,total_pages:0,page_start:0}}},watch:{keyword:function(){this.getProducts()},filterRegions:function(){this.getProducts()},filterFeatures:function(){this.getProducts()}},inject:["emitter"],methods:{getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/products/all");this.isLoading=!0,this.$http.get(c).then((function(c){e.products=c.data.products.filter((function(e){return"露營區"===e.category})),e.getFavorite(),e.filterProducts(),e.pagination.current_page=t,e.pagination.page_start=(e.pagination.current_page-1)*e.pagination.offset,e.pagination.total_pages=Math.ceil(e.products.length/e.pagination.offset),e.products=e.products.slice(e.pagination.page_start,e.pagination.page_start+e.pagination.offset),e.isLoading=!1}))},getFavorite:function(){this.favorite=JSON.parse(localStorage.getItem("favoriteProducts"))||[],this.filterFavorite(),this.favoriteNum=this.favorite.length},updateFavorite:function(e){this.favorite=JSON.parse(localStorage.getItem("favoriteProducts"))||[],this.favoriteNum=this.favorite.length,e?this.emitter.emit("send-message",{success:!0,content:"已加入收藏!"}):this.emitter.emit("send-message",{success:!1,content:"已從收藏中移除!"})},favoriteHandler:function(){this.showFavorite=!this.showFavorite},filterProducts:function(){var e=this;if(this.filterRegions.length){var t=[];this.filterRegions.forEach((function(c){e.products.forEach((function(e){e.region===c&&t.push(e)}))})),this.products=t}this.filterFeatures.length&&this.filterFeatures.forEach((function(t){e.products=e.products.filter((function(e){return e.features.includes(t)}))})),this.keyword&&(this.products=this.products.filter((function(t){return t.title.match(e.keyword)}))),this.productsNum=this.products.length},filterFavorite:function(){var e=this;if(this.filterRegions.length){var t=[];this.filterRegions.forEach((function(c){e.favorite.forEach((function(e){e.region===c&&t.push(e)}))})),this.favorite=t}this.filterFeatures.length&&this.filterFeatures.forEach((function(t){e.favorite=e.favorite.filter((function(e){return e.features.includes(t)}))})),this.keyword&&(this.favorite=this.favorite.filter((function(t){return t.title.match(e.keyword)})))}},created:function(){this.$route.query.feature&&this.filterFeatures.push(this.$route.query.feature),this.$route.query.region&&this.filterRegions.push(this.$route.query.region),this.getProducts()}};c("4942");Ne.render=ue;var Ve=Ne,ye={components:{ProductsSection1:d,ProductsSection2:Ve}};ye.render=n;t["default"]=ye},fb6a:function(e,t,c){"use strict";var o=c("23e7"),r=c("861d"),n=c("e8b5"),a=c("23cb"),i=c("50c4"),l=c("fc6a"),s=c("8418"),d=c("b622"),u=c("1dde"),b=u("slice"),p=d("species"),f=[].slice,m=Math.max;o({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var c,o,d,u=l(this),b=i(u.length),v=a(e,b),g=a(void 0===t?b:t,b);if(n(u)&&(c=u.constructor,"function"!=typeof c||c!==Array&&!n(c.prototype)?r(c)&&(c=c[p],null===c&&(c=void 0)):c=void 0,c===Array||void 0===c))return f.call(u,v,g);for(o=new(void 0===c?Array:c)(m(g-v,0)),d=0;v<g;v++,d++)v in u&&s(o,d,u[v]);return o.length=d,o}})}}]);
//# sourceMappingURL=chunk-4051386e.feb9b489.js.map