(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-785265d0"],{2771:function(e,t,c){"use strict";c("d532")},"84af":function(e,t,c){"use strict";var a=c("7a23");Object(a["pushScopeId"])("data-v-a0587792");var l={class:"text-white ps-4 py-2 pe-1 lh-base s1-animate"};function o(e,t,c,o,r,n){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"banner",style:Object(a["normalizeStyle"])({backgroundImage:"url(".concat(c.imgUrl,")")})},[Object(a["createElementVNode"])("h1",l,Object(a["toDisplayString"])(c.title),1)],4)}Object(a["popScopeId"])();var r={props:["title","imgUrl"]};c("2771");r.render=o,r.__scopeId="data-v-a0587792";t["a"]=r},b0c0:function(e,t,c){var a=c("83ab"),l=c("9bf2").f,o=Function.prototype,r=o.toString,n=/^\s*function ([^ (]*)/,s="name";a&&!(s in o)&&l(o,s,{configurable:!0,get:function(){try{return r.call(this).match(n)[1]}catch(e){return""}}})},cf2a:function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),l={id:"user-order"},o=Object(a["createElementVNode"])("div",{class:"loadingio-spinner-spin-xmpavumjb"},[Object(a["createElementVNode"])("div",{class:"ldio-ylwm2fadiqf"},[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")]),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div")])])],-1),r={class:"order-section-1"},n={class:"order-section-2"},s={class:"container py-5"},d={class:"row"},i={class:"col-lg-6 mb-5"},m={class:"card rounded-0"},b=Object(a["createElementVNode"])("div",{class:"card-header rounded-0 bg-info text-white"},[Object(a["createElementVNode"])("h2",{class:"fs-4 my-1"},"訂單資訊")],-1),u={class:"card-body px-sm-4"},j={class:"col-8"},O={class:"me-2"},V={class:"fs-7 text-muted"},p={class:"col-4 text-end"},v={class:"row g-0 py-2 border-top"},N=Object(a["createElementVNode"])("div",{class:"col-8"},"小計：",-1),f={class:"col-4 text-end"},E={key:0,class:"row g-0 py-2 text-success border-bottom border-dark"},h=Object(a["createElementVNode"])("div",{class:"col-8"},"折扣：",-1),g={class:"col-4 text-end"},y={class:"row g-0 py-2"},w=Object(a["createElementVNode"])("div",{class:"col-8"},"合計：",-1),x={class:"col-4 text-end"},k={class:"col-lg-6 mb-5"},S={class:"card rounded-0"},C=Object(a["createElementVNode"])("div",{class:"card-header rounded-0 bg-info text-white"},[Object(a["createElementVNode"])("h2",{class:"fs-4 my-1"},"訂購者資料")],-1),B={class:"card-body"},$={class:"mb-3"},U=Object(a["createElementVNode"])("label",{for:"name",class:"form-label mb-1"},"訂購者姓名",-1),D={class:"mb-3"},_=Object(a["createElementVNode"])("label",{for:"email",class:"form-label mb-1"},"電子信箱",-1),L=Object(a["createElementVNode"])("span",{class:"fs-7 text-muted"},"請填入訂單通知Email (訂單資訊將以此E-mail通知您)",-1),T={class:"mb-3"},I=Object(a["createElementVNode"])("label",{for:"phone",class:"form-label mb-1"},"連絡電話",-1),q={class:"mb-3"},z=Object(a["createElementVNode"])("label",{for:"note",class:"form-label mb-1"},"訂單備註",-1),F=Object(a["createElementVNode"])("div",{class:"row"},[Object(a["createElementVNode"])("div",{class:"col-sm-5 mb-3"},[Object(a["createElementVNode"])("a",{href:"#/cart",class:"btn btn-outline-success w-100"},[Object(a["createElementVNode"])("i",{class:"bi bi-caret-left-fill"}),Object(a["createTextVNode"])(" 返回購物車")])]),Object(a["createElementVNode"])("div",{class:"col-sm-3"}),Object(a["createElementVNode"])("div",{class:"col-sm-4 mb-3"},[Object(a["createElementVNode"])("button",{type:"submit",class:"btn btn-success text-white w-100"}," 提交訂單 ")])],-1);function P(e,t,c,P,J,M){var A=Object(a["resolveComponent"])("Loading"),G=Object(a["resolveComponent"])("Banner"),H=Object(a["resolveComponent"])("Field"),K=Object(a["resolveComponent"])("error-message"),Q=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("main",l,[Object(a["createVNode"])(A,{active:J.isLoading},{default:Object(a["withCtx"])((function(){return[o]})),_:1},8,["active"]),Object(a["createElementVNode"])("section",r,[Object(a["createVNode"])(G,{title:J.title,imgUrl:J.publicPath+J.imgUrl},null,8,["title","imgUrl"])]),Object(a["createElementVNode"])("section",n,[Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",m,[b,Object(a["createElementVNode"])("div",u,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(J.cart.carts,(function(t,c){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:c,class:"row g-0 py-2"},[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("span",O,Object(a["toDisplayString"])(t.product.belong_to)+" / "+Object(a["toDisplayString"])(t.product.title),1),Object(a["createElementVNode"])("span",V,"( 數量："+Object(a["toDisplayString"])(t.qty)+" )",1)]),Object(a["createElementVNode"])("div",p," NT$ "+Object(a["toDisplayString"])(e.$filters.currency(t.total)),1)])})),128)),Object(a["createElementVNode"])("div",v,[N,Object(a["createElementVNode"])("div",f," NT$ "+Object(a["toDisplayString"])(e.$filters.currency(J.cart.total)),1)]),J.cart.final_total!==J.cart.total?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",E,[h,Object(a["createElementVNode"])("div",g," - NT$ "+Object(a["toDisplayString"])(e.$filters.currency(J.cart.total-J.cart.final_total)),1)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",y,[w,Object(a["createElementVNode"])("div",x," NT$ "+Object(a["toDisplayString"])(e.$filters.currency(J.cart.final_total)),1)])])])]),Object(a["createElementVNode"])("div",k,[Object(a["createElementVNode"])("div",S,[C,Object(a["createElementVNode"])("div",B,[Object(a["createVNode"])(Q,{onSubmit:M.createOrder},{default:Object(a["withCtx"])((function(e){var c=e.errors;return[Object(a["createElementVNode"])("div",$,[U,Object(a["createVNode"])(H,{id:"name",name:"name",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["name"]}]),rules:"required",modelValue:J.form.user.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return J.form.user.name=e})},null,8,["class","modelValue"]),Object(a["createVNode"])(K,{name:"name",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",D,[_,Object(a["createVNode"])(H,{id:"email",name:"email",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["email"]}]),rules:"required|email",modelValue:J.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return J.form.user.email=e})},null,8,["class","modelValue"]),L,Object(a["createVNode"])(K,{name:"email",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",T,[I,Object(a["createVNode"])(H,{id:"phone",name:"phone",type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":c["phone"]}]),rules:M.isPhone,modelValue:J.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return J.form.user.tel=e})},null,8,["rules","class","modelValue"]),Object(a["createVNode"])(K,{name:"phone",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",q,[z,Object(a["withDirectives"])(Object(a["createElementVNode"])("textarea",{name:"note",id:"note",rows:"5",class:"form-control",placeholder:"有什麼想告訴營主嗎?","onUpdate:modelValue":t[3]||(t[3]=function(e){return J.form.message=e})},null,512),[[a["vModelText"],J.form.message]])]),F]})),_:1},8,["onSubmit"])])])])])])])])}c("99af");var J=c("84af"),M={components:{Banner:J["a"]},data:function(){return{publicPath:"/icamping/",title:"訂購資訊",imgUrl:"images/cart/cart-01.jpg",cart:{},form:{user:{name:"",email:"",tel:"",address:"none"},message:""},isLoading:!1}},methods:{getCarts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/cart");this.isLoading=!0,this.$http.get(t).then((function(t){e.isLoading=!1,e.cart=t.data.data}))},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請輸入正確的電話號碼"},createOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/order"),c=this.form;this.$http.post(t,{data:c}).then((function(t){t.data.success&&e.$router.push("/checkout/".concat(t.data.orderId))}))}},created:function(){this.getCarts()}};M.render=P;t["default"]=M},d532:function(e,t,c){}}]);
//# sourceMappingURL=chunk-785265d0.61932099.js.map