{"version":3,"sources":["webpack:///./src/components/Banner.vue?457f","webpack:///./src/components/Banner.vue","webpack:///./src/components/Banner.vue?c353","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/Order.vue","webpack:///./src/views/Order.vue?3d30"],"names":["class","style","imgUrl","title","props","render","__scopeId","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","id","for","href","type","active","isLoading","publicPath","cart","carts","item","i","key","product","belong_to","qty","$filters","currency","total","final_total","createOrder","errors","name","rules","form","user","email","isPhone","tel","rows","placeholder","message","components","Banner","data","address","methods","getCarts","url","$http","then","res","value","phoneNumber","test","order","post","success","$router","push","orderId","created"],"mappings":"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","file":"js/chunk-785265d0.61932099.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Banner.vue?vue&type=style&index=0&id=a0587792&lang=scss&scoped=true\"","<template>\r\n  <div class=\"banner\" :style=\"{ backgroundImage: `url(${imgUrl})` }\">\r\n    <h1 class=\"text-white ps-4 py-2 pe-1 lh-base s1-animate\">\r\n      {{ title }}\r\n    </h1>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['title', 'imgUrl']\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.banner {\r\n  height: 200px;\r\n  object-fit: cover;\r\n  background-size: cover;\r\n  background-position: center 70%;\r\n  position: relative;\r\n  overflow: hidden;\r\n  @include media-breakpoint-up(sm) {\r\n    height: 400px;\r\n  }\r\n  h1 {\r\n    background-color: rgba(41, 41, 41, 0.6);\r\n    position: absolute;\r\n    bottom: 10%;\r\n    right: 0;\r\n    @include media-breakpoint-up(sm) {\r\n      left: 60%;\r\n    }\r\n  }\r\n}\r\n.s1-animate {\r\n  animation-name: s1-animate;\r\n  animation-duration: 1s;\r\n  animation-direction: normal;\r\n}\r\n@keyframes s1-animate {\r\n  0% {\r\n    opacity: 0;\r\n    transform: translateX(-200%);\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Banner.vue?vue&type=template&id=a0587792&scoped=true\"\nimport script from \"./Banner.vue?vue&type=script&lang=js\"\nexport * from \"./Banner.vue?vue&type=script&lang=js\"\n\nimport \"./Banner.vue?vue&type=style&index=0&id=a0587792&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-a0587792\"\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\r\n  <main id=\"user-order\">\r\n    <Loading :active=\"isLoading\">\r\n      <div class=\"loadingio-spinner-spin-xmpavumjb\">\r\n        <div class=\"ldio-ylwm2fadiqf\">\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n        </div>\r\n      </div>\r\n    </Loading>\r\n    <section class=\"order-section-1\">\r\n      <Banner :title=\"title\" :imgUrl=\"publicPath + imgUrl\"></Banner>\r\n    </section>\r\n    <section class=\"order-section-2\">\r\n      <div class=\"container py-5\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-6 mb-5\">\r\n            <div class=\"card rounded-0\">\r\n              <div class=\"card-header rounded-0 bg-info text-white\">\r\n                <h2 class=\"fs-4 my-1\">訂單資訊</h2>\r\n              </div>\r\n              <div class=\"card-body px-sm-4\">\r\n                <div\r\n                  v-for=\"(item, i) in cart.carts\"\r\n                  :key=\"i\"\r\n                  class=\"row g-0 py-2\"\r\n                >\r\n                  <div class=\"col-8\">\r\n                    <span class=\"me-2\"\r\n                      >{{ item.product.belong_to }} /\r\n                      {{ item.product.title }}</span\r\n                    ><span class=\"fs-7 text-muted\"\r\n                      >( 數量：{{ item.qty }} )</span\r\n                    >\r\n                  </div>\r\n                  <div class=\"col-4 text-end\">\r\n                    NT$ {{ $filters.currency(item.total) }}\r\n                  </div>\r\n                </div>\r\n                <div class=\"row g-0 py-2 border-top\">\r\n                  <div class=\"col-8\">小計：</div>\r\n                  <div class=\"col-4 text-end\">\r\n                    NT$ {{ $filters.currency(cart.total) }}\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  v-if=\"cart.final_total !== cart.total\"\r\n                  class=\"row g-0 py-2 text-success border-bottom border-dark\"\r\n                >\r\n                  <div class=\"col-8\">折扣：</div>\r\n                  <div class=\"col-4 text-end\">\r\n                    - NT$ {{ $filters.currency(cart.total - cart.final_total) }}\r\n                  </div>\r\n                </div>\r\n                <div class=\"row g-0 py-2\">\r\n                  <div class=\"col-8\">合計：</div>\r\n                  <div class=\"col-4 text-end\">\r\n                    NT$ {{ $filters.currency(cart.final_total) }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-6 mb-5\">\r\n            <div class=\"card rounded-0\">\r\n              <div class=\"card-header rounded-0 bg-info text-white\">\r\n                <h2 class=\"fs-4 my-1\">訂購者資料</h2>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <Form @submit=\"createOrder\" v-slot=\"{ errors }\">\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"name\" class=\"form-label mb-1\">訂購者姓名</label>\r\n                    <Field\r\n                      id=\"name\"\r\n                      name=\"name\"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      rules=\"required\"\r\n                      :class=\"{ 'is-invalid': errors['name'] }\"\r\n                      v-model=\"form.user.name\"\r\n                    ></Field>\r\n                    <error-message\r\n                      name=\"name\"\r\n                      class=\"invalid-feedback\"\r\n                    ></error-message>\r\n                  </div>\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"email\" class=\"form-label mb-1\">電子信箱</label>\r\n                    <Field\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      rules=\"required|email\"\r\n                      :class=\"{ 'is-invalid': errors['email'] }\"\r\n                      v-model=\"form.user.email\"\r\n                    ></Field>\r\n                    <span class=\"fs-7 text-muted\"\r\n                      >請填入訂單通知Email (訂單資訊將以此E-mail通知您)</span\r\n                    >\r\n                    <error-message\r\n                      name=\"email\"\r\n                      class=\"invalid-feedback\"\r\n                    ></error-message>\r\n                  </div>\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"phone\" class=\"form-label mb-1\">連絡電話</label>\r\n                    <Field\r\n                      id=\"phone\"\r\n                      name=\"phone\"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      :rules=\"isPhone\"\r\n                      :class=\"{ 'is-invalid': errors['phone'] }\"\r\n                      v-model=\"form.user.tel\"\r\n                    ></Field>\r\n                    <error-message\r\n                      name=\"phone\"\r\n                      class=\"invalid-feedback\"\r\n                    ></error-message>\r\n                  </div>\r\n                  <div class=\"mb-3\">\r\n                    <label for=\"note\" class=\"form-label mb-1\">訂單備註</label>\r\n                    <textarea\r\n                      name=\"note\"\r\n                      id=\"note\"\r\n                      rows=\"5\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"有什麼想告訴營主嗎?\"\r\n                      v-model=\"form.message\"\r\n                    ></textarea>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-sm-5 mb-3\">\r\n                      <a href=\"#/cart\" class=\"btn btn-outline-success w-100\"\r\n                        ><i class=\"bi bi-caret-left-fill\"></i> 返回購物車</a\r\n                      >\r\n                    </div>\r\n                    <div class=\"col-sm-3\"></div>\r\n                    <div class=\"col-sm-4 mb-3\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        class=\"btn btn-success text-white w-100\"\r\n                      >\r\n                        提交訂單\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </Form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport Banner from '@/components/Banner.vue'\r\n\r\nexport default {\r\n  components: {\r\n    Banner\r\n  },\r\n  data () {\r\n    return {\r\n      publicPath: process.env.BASE_URL,\r\n      title: '訂購資訊',\r\n      imgUrl: 'images/cart/cart-01.jpg',\r\n      cart: {},\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: 'none'\r\n        },\r\n        message: ''\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    getCarts () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then(res => {\r\n        this.isLoading = false\r\n        this.cart = res.data.data\r\n      })\r\n    },\r\n    isPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '請輸入正確的電話號碼'\r\n    },\r\n    createOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.$http.post(url, { data: order }).then(res => {\r\n        if (res.data.success) {\r\n          this.$router.push(`/checkout/${res.data.orderId}`)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getCarts()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Order.vue?vue&type=template&id=70ed2f61\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}