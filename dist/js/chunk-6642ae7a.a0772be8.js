(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6642ae7a"],{1329:function(e,t,n){"use strict";n("d3b7"),n("99af");t["a"]={methods:{createPromise:function(e){var t=this;return new Promise((function(n,o){var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/admin/product");t.$http.post(c,{data:e}).then((function(e){n(e)})).catch((function(e){o(e)}))}))},updatePromise:function(e){var t=this;return new Promise((function(n,o){var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/admin/product/").concat(e.id);t.$http.put(c,{data:e}).then((function(e){n(e)})).catch((function(e){o(e)}))}))},deletePromise:function(e){var t=this;return new Promise((function(n,o){var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/admin/product/").concat(e.id);t.$http.delete(c).then((function(e){n(e)})).catch((function(e){o(e)}))}))}}}},"159b":function(e,t,n){var o=n("da84"),c=n("fdbc"),r=n("17c2"),a=n("9112");for(var i in c){var l=o[i],s=l&&l.prototype;if(s&&s.forEach!==r)try{a(s,"forEach",r)}catch(d){s.forEach=r}}},"17c2":function(e,t,n){"use strict";var o=n("b727").forEach,c=n("a640"),r=c("forEach");e.exports=r?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"1bf9":function(e,t,n){"use strict";var o=n("5530");function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e){if(Array.isArray(e))return c(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n("fb6a"),n("b0c0");function i(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return r(e)||a(e)||i(e)||l()}n("d81d"),n("99af"),n("4de4"),n("a434");var d=n("7a23"),u={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},p={class:"modal-dialog modal-lg modal-dialog-scrollable",role:"document"},m={class:"modal-content border-0"},f=Object(d["createElementVNode"])("div",{class:"modal-header bg-primary text-white"},[Object(d["createElementVNode"])("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},[Object(d["createElementVNode"])("span",null,"新增營地種類")]),Object(d["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),b={class:"modal-body"},h={class:"mb-3"},y={class:"row mb-3"},v=Object(d["createElementVNode"])("label",{for:"type-1-name",class:"col-sm-2 col-form-label fs-6"},"營地種類",-1),g={class:"col-sm-4"},O=Object(d["createElementVNode"])("label",{class:"col-sm-2 col-form-label fs-6"},"收費單位",-1),j={class:"col-sm-4 d-flex align-items-center"},E=Object(d["createElementVNode"])("label",{class:"me-2",for:"unit-1"},"區",-1),N=Object(d["createElementVNode"])("label",{class:"me-2",for:"unit-2"},"帳",-1),T=Object(d["createElementVNode"])("label",{for:"unit-3"},"間",-1),V={class:"row mb-3"},w=Object(d["createElementVNode"])("label",{for:"type-1-price",class:"col-sm-2 col-form-label fs-6"},"原價",-1),x={class:"col-sm-4"},M=Object(d["createElementVNode"])("label",{for:"type-1-price",class:"col-sm-2 col-form-label fs-6"},"特價",-1),k={class:"col-sm-4"},P={class:"row mb-3"},A=Object(d["createElementVNode"])("label",{for:"type-1-content",class:"col-sm-2 col-form-label fs-6"},"備註",-1),I={class:"col-sm-10"},S={class:"mb-3"},U={class:"form-check"},D=Object(d["createElementVNode"])("label",{class:"form-check-label",for:"type-1-is_enabled"}," 是否啟用 ",-1),R={class:"mb-3"},$={class:"mb-3"},_={class:"flex-fill mb-3 me-3"},C=["onUpdate:modelValue"],F=Object(d["createElementVNode"])("div",{class:"d-flex align-items-center mb-3 me-3"},[Object(d["createElementVNode"])("span",null,"或上傳檔案")],-1),B={class:"flex-fill mb-3 me-2"},L=["onChange"],G={class:"mb-3"},J=["onClick"],X={key:0,class:"row image-wall"},Y=["src","alt"],q={class:"modal-footer"},z=Object(d["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function H(e,t,n,o,c,r){return Object(d["openBlock"])(),Object(d["createElementBlock"])("div",u,[Object(d["createElementVNode"])("div",p,[Object(d["createElementVNode"])("div",m,[f,Object(d["createElementVNode"])("div",b,[Object(d["createElementVNode"])("div",h,[Object(d["createElementVNode"])("div",y,[v,Object(d["createElementVNode"])("div",g,[Object(d["withDirectives"])(Object(d["createElementVNode"])("input",{type:"text",class:"form-control",id:"type-1-name",placeholder:"請輸入營地種類","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.temType.title=e})},null,512),[[d["vModelText"],c.temType.title]])]),O,Object(d["createElementVNode"])("div",j,[Object(d["withDirectives"])(Object(d["createElementVNode"])("input",{class:"me-1",type:"radio",id:"unit-1",value:"區","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.temType.unit=e})},null,512),[[d["vModelRadio"],c.temType.unit]]),E,Object(d["withDirectives"])(Object(d["createElementVNode"])("input",{class:"me-1",type:"radio",id:"unit-2",value:"帳","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.temType.unit=e})},null,512),[[d["vModelRadio"],c.temType.unit]]),N,Object(d["withDirectives"])(Object(d["createElementVNode"])("input",{class:"me-1",type:"radio",id:"unit-3",value:"間","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.temType.unit=e})},null,512),[[d["vModelRadio"],c.temType.unit]]),T])]),Object(d["createElementVNode"])("div",V,[w,Object(d["createElementVNode"])("div",x,[Object(d["withDirectives"])(Object(d["createElementVNode"])("input",{type:"number",class:"form-control",id:"type-1-price",placeholder:"請輸入收費金額","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.temType.origin_price=e})},null,512),[[d["vModelText"],c.temType.origin_price]])]),M,Object(d["createElementVNode"])("div",k,[Object(d["withDirectives"])(Object(d["createElementVNode"])("input",{type:"number",class:"form-control",id:"type-1-price",placeholder:"請輸入收費金額","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.temType.price=e})},null,512),[[d["vModelText"],c.temType.price]])])]),Object(d["createElementVNode"])("div",P,[A,Object(d["createElementVNode"])("div",I,[Object(d["withDirectives"])(Object(d["createElementVNode"])("textarea",{type:"text",class:"form-control",rows:"6",id:"type-1-content",placeholder:"請輸入備註內容","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.temType.content=e})},null,512),[[d["vModelText"],c.temType.content]])])]),Object(d["createElementVNode"])("div",S,[Object(d["createElementVNode"])("div",U,[Object(d["withDirectives"])(Object(d["createElementVNode"])("input",{class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,id:"type-1-is_enabled","onUpdate:modelValue":t[7]||(t[7]=function(e){return c.temType.is_enabled=e})},null,512),[[d["vModelCheckbox"],c.temType.is_enabled]]),D])])]),Object(d["createElementVNode"])("div",R,[Object(d["createElementVNode"])("div",$,[Object(d["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm d-block",onClick:t[8]||(t[8]=function(e){return c.temType.images.push("")})}," 新增營地照片 ")]),(Object(d["openBlock"])(!0),Object(d["createElementBlock"])(d["Fragment"],null,Object(d["renderList"])(c.temType.images,(function(e,t){return Object(d["openBlock"])(),Object(d["createElementBlock"])("div",{class:"d-flex",key:t},[Object(d["createElementVNode"])("div",_,[Object(d["withDirectives"])(Object(d["createElementVNode"])("input",{type:"url",class:"form-control form-control","onUpdate:modelValue":function(e){return c.temType.images[t]=e},placeholder:"請輸入連結"},null,8,C),[[d["vModelText"],c.temType.images[t]]])]),F,Object(d["createElementVNode"])("div",B,[Object(d["createElementVNode"])("input",{type:"file",class:"form-control",ref:r.setItemRef,onChange:function(e){return r.uploadFile(t)}},null,40,L)]),Object(d["createElementVNode"])("div",G,[Object(d["createElementVNode"])("button",{class:"btn btn-outline-danger",type:"button",onClick:function(e){return c.temType.images.splice(t,1)}}," 移除 ",8,J)])])})),128)),c.temType.images?(Object(d["openBlock"])(),Object(d["createElementBlock"])("div",X,[(Object(d["openBlock"])(!0),Object(d["createElementBlock"])(d["Fragment"],null,Object(d["renderList"])(c.temType.images,(function(e,t){return Object(d["openBlock"])(),Object(d["createElementBlock"])("div",{class:"col-6 col-lg-4 mb-3",key:t},[Object(d["createElementVNode"])("img",{class:"product-image",src:c.temType.images[t],alt:c.temType.title},null,8,Y)])})),128))])):Object(d["createCommentVNode"])("",!0)])]),Object(d["createElementVNode"])("div",q,[z,Object(d["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[9]||(t[9]=function(t){return e.$emit("update-type",{type:c.temType,index:n.index})})}," 確認 ")])])])],512)}n("a9e3");var K=n("7c2b"),Q=n.n(K),W={props:{type:{type:Object,default:function(){return{}}},index:{type:Number}},watch:{type:function(){this.temType=this.type,this.temType.images||(this.temType.images=[])}},data:function(){return{modal:{},temType:{},itemRefs:[]}},methods:{showModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()},setItemRef:function(e){e&&this.itemRefs.push(e)},uploadFile:function(e){var t=this,n=this.itemRefs[e].files[0],o=new FormData;o.append("file-to-upload",n);var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/admin/upload");this.$http.post(c,o).then((function(n){n.data.success&&(t.temType.images[e]=n.data.imageUrl)}))}},beforeUpdate:function(){this.itemRefs=[]},mounted:function(){this.modal=new Q.a(this.$refs.modal)}};W.render=H;var Z=W;t["a"]={data:function(){return{region:{"北部":["台北","新北","桃園","新竹"],"中部":["苗栗","台中","南投","雲林"],"南部":["嘉義","台南","高雄","屏東"],"東部":["宜蘭","花蓮","台東"],"離島":["金門","澎湖"]},cities:["台北","新北","桃園","新竹"],features:["免裝備","裝備租借","雨棚","遊戲設施","玩水","高海拔","森林","草原","靠海","近溪流","夜景","雲海"],temType:{},temTypeIndex:0,types:[],temTypes:[],isNew:!1,itemRefs:[]}},watch:{temTypes:{handler:function(e,t){if(e.length){var n=this.temTypes.map((function(e){return e.price}));this.temProduct.price=Math.min.apply(Math,s(n))}else this.temProduct.price=0},deep:!0},temProduct:{handler:function(){var e=this;this.temTypes.length&&this.temTypes.map((function(t){t.belong_to=e.temProduct.title}))},deep:!0}},inject:["emitter","pushMessageState"],components:{TypeModal:Z},beforeUpdate:function(){this.itemRefs=[]},methods:{updateCities:function(){this.cities=this.region[this.temProduct.region],this.temProduct.city=this.cities[0]},setItemRef:function(e){e&&this.itemRefs.push(e)},uploadFile:function(){var e=this,t=this.$refs.fileInput.files[0],n=new FormData;n.append("file-to-upload",t);var o="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/admin/upload");this.$http.post(o,n).then((function(t){t.data.success&&(e.temProduct.imageUrl=t.data.imageUrl)}))},uploadMoreFiles:function(e){var t=this,n=this.itemRefs[e].files[0],o=new FormData;o.append("file-to-upload",n);var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/admin/upload");this.$http.post(c,o).then((function(n){n.data.success&&(t.temProduct.images[e]=n.data.imageUrl)}))},openModal:function(e,t,n){e?this.temType={}:(this.temType=Object(o["a"])({},t),this.temTypeIndex=n),this.isNew=e,this.$refs.typeModal.showModal()},getTypes:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("icamping","/admin/products");this.isLoading=!0,this.$http.get(t).then((function(t){e.isLoading=!1,t.data.success&&(e.types=t.data.products.filter((function(t){return t.belong_to===e.temProduct.title})))}))},updateTemType:function(e){var t=e.type,n=e.index;t.belong_to=this.temProduct.title,t.category="營地種類",this.isNew?this.temTypes.push(Object(o["a"])({},t)):this.temTypes[n]=Object(o["a"])({},t),this.$refs.typeModal.hideModal()},deleteTemType:function(e){var t=this.temTypes.indexOf(e);this.temTypes.splice(t,1)},cancel:function(){this.$router.push("/admin/products")}}}},"4df4":function(e,t,n){"use strict";var o=n("0366"),c=n("7b0b"),r=n("9bdd"),a=n("e95a"),i=n("50c4"),l=n("8418"),s=n("9a1f"),d=n("35a1");e.exports=function(e){var t,n,u,p,m,f,b=c(e),h="function"==typeof this?this:Array,y=arguments.length,v=y>1?arguments[1]:void 0,g=void 0!==v,O=d(b),j=0;if(g&&(v=o(v,y>2?arguments[2]:void 0,2)),void 0==O||h==Array&&a(O))for(t=i(b.length),n=new h(t);t>j;j++)f=g?v(b[j],j):b[j],l(n,j,f);else for(p=s(b,O),m=p.next,n=new h;!(u=m.call(p)).done;j++)f=g?r(p,v,[u.value,j],!0):u.value,l(n,j,f);return n.length=j,n}},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var o=n("1d80"),c=n("577e"),r=n("5899"),a="["+r+"]",i=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),s=function(e){return function(t){var n=c(o(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(l,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(e,t,n){var o=n("861d"),c=n("d2bb");e.exports=function(e,t,n){var r,a;return c&&"function"==typeof(r=t.constructor)&&r!==n&&o(a=r.prototype)&&a!==n.prototype&&c(e,a),e}},"9bdd":function(e,t,n){var o=n("825a"),c=n("2a62");e.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(a){c(e,"throw",a)}}},a434:function(e,t,n){"use strict";var o=n("23e7"),c=n("23cb"),r=n("a691"),a=n("50c4"),i=n("7b0b"),l=n("65f0"),s=n("8418"),d=n("1dde"),u=d("splice"),p=Math.max,m=Math.min,f=9007199254740991,b="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,o,d,u,h,y,v=i(this),g=a(v.length),O=c(e,g),j=arguments.length;if(0===j?n=o=0:1===j?(n=0,o=g-O):(n=j-2,o=m(p(r(t),0),g-O)),g+n-o>f)throw TypeError(b);for(d=l(v,o),u=0;u<o;u++)h=O+u,h in v&&s(d,u,v[h]);if(d.length=o,n<o){for(u=O;u<g-o;u++)h=u+o,y=u+n,h in v?v[y]=v[h]:delete v[y];for(u=g;u>g-o+n;u--)delete v[u-1]}else if(n>o)for(u=g-o;u>O;u--)h=u+o-1,y=u+n-1,h in v?v[y]=v[h]:delete v[y];for(u=0;u<n;u++)v[u+O]=arguments[u+2];return v.length=g-o+n,d}})},a630:function(e,t,n){var o=n("23e7"),c=n("4df4"),r=n("1c7e"),a=!r((function(e){Array.from(e)}));o({target:"Array",stat:!0,forced:a},{from:c})},a9e3:function(e,t,n){"use strict";var o=n("83ab"),c=n("da84"),r=n("94ca"),a=n("6eeb"),i=n("5135"),l=n("c6b6"),s=n("7156"),d=n("d9b5"),u=n("c04e"),p=n("d039"),m=n("7c73"),f=n("241c").f,b=n("06cf").f,h=n("9bf2").f,y=n("58a8").trim,v="Number",g=c[v],O=g.prototype,j=l(m(O))==v,E=function(e){if(d(e))throw TypeError("Cannot convert a Symbol value to a number");var t,n,o,c,r,a,i,l,s=u(e,"number");if("string"==typeof s&&s.length>2)if(s=y(s),t=s.charCodeAt(0),43===t||45===t){if(n=s.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:o=2,c=49;break;case 79:case 111:o=8,c=55;break;default:return+s}for(r=s.slice(2),a=r.length,i=0;i<a;i++)if(l=r.charCodeAt(i),l<48||l>c)return NaN;return parseInt(r,o)}return+s};if(r(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var N,T=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof T&&(j?p((function(){O.valueOf.call(n)})):l(n)!=v)?s(new g(E(t)),n,T):E(t)},V=o?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;V.length>w;w++)i(g,N=V[w])&&!i(T,N)&&h(T,N,b(g,N));T.prototype=O,O.constructor=T,a(c,v,T)}},b0c0:function(e,t,n){var o=n("83ab"),c=n("9bf2").f,r=Function.prototype,a=r.toString,i=/^\s*function ([^ (]*)/,l="name";o&&!(l in r)&&c(r,l,{configurable:!0,get:function(){try{return a.call(this).match(i)[1]}catch(e){return""}}})},b64b:function(e,t,n){var o=n("23e7"),c=n("7b0b"),r=n("df75"),a=n("d039"),i=a((function(){r(1)}));o({target:"Object",stat:!0,forced:i},{keys:function(e){return r(c(e))}})},d28b:function(e,t,n){var o=n("746f");o("iterator")},d81d:function(e,t,n){"use strict";var o=n("23e7"),c=n("b727").map,r=n("1dde"),a=r("map");o({target:"Array",proto:!0,forced:!a},{map:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(e,t,n){var o=n("23e7"),c=n("83ab"),r=n("56ef"),a=n("fc6a"),i=n("06cf"),l=n("8418");o({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){var t,n,o=a(e),c=i.f,s=r(o),d={},u=0;while(s.length>u)n=c(o,t=s[u++]),void 0!==n&&l(d,t,n);return d}})},e01a:function(e,t,n){"use strict";var o=n("23e7"),c=n("83ab"),r=n("da84"),a=n("5135"),i=n("861d"),l=n("9bf2").f,s=n("e893"),d=r.Symbol;if(c&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};s(p,d);var m=p.prototype=d.prototype;m.constructor=p;var f=m.toString,b="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;l(m,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=f.call(e);if(a(u,e))return"";var n=b?t.slice(7,-1):t.replace(h,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:p})}},e439:function(e,t,n){var o=n("23e7"),c=n("d039"),r=n("fc6a"),a=n("06cf").f,i=n("83ab"),l=c((function(){a(1)})),s=!i||l;o({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(e,t){return a(r(e),t)}})},fb6a:function(e,t,n){"use strict";var o=n("23e7"),c=n("861d"),r=n("e8b5"),a=n("23cb"),i=n("50c4"),l=n("fc6a"),s=n("8418"),d=n("b622"),u=n("1dde"),p=u("slice"),m=d("species"),f=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,o,d,u=l(this),p=i(u.length),h=a(e,p),y=a(void 0===t?p:t,p);if(r(u)&&(n=u.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?c(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return f.call(u,h,y);for(o=new(void 0===n?Array:n)(b(y-h,0)),d=0;h<y;h++,d++)h in u&&s(o,d,u[h]);return o.length=d,o}})}}]);
//# sourceMappingURL=chunk-6642ae7a.a0772be8.js.map