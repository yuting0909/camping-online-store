{"version":3,"sources":["webpack:///./src/components/Banner.vue?457f","webpack:///./src/components/Banner.vue","webpack:///./src/components/Banner.vue?c353","webpack:///./src/views/Cart.vue","webpack:///./src/views/Cart.vue?7a75","webpack:///./src/views/Cart.vue?f158"],"names":["class","style","imgUrl","title","props","render","__scopeId","id","width","xmlns","height","fill","viewBox","d","colspan","href","active","isLoading","publicPath","cart","total","carts","item","i","key","src","product","images","alt","belong_to","$filters","currency","price","type","decreaseQty","qty","increaseQty","removeCartItem","final_total","coupon_code","placeholder","addCouponCode","components","Banner","data","inject","methods","getCarts","mode","url","this","$http","get","then","res","sendCart","emitter","emit","success","content","updateCarts","product_id","put","delete","coupon","code","post","console","log","status","message","created"],"mappings":"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","file":"js/chunk-6842a9a5.d86e82cd.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Banner.vue?vue&type=style&index=0&id=a0587792&lang=scss&scoped=true\"","<template>\r\n  <div class=\"banner\" :style=\"{ backgroundImage: `url(${imgUrl})` }\">\r\n    <h1 class=\"text-white ps-4 py-2 pe-1 lh-base s1-animate\">\r\n      {{ title }}\r\n    </h1>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['title', 'imgUrl']\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.banner {\r\n  height: 200px;\r\n  object-fit: cover;\r\n  background-size: cover;\r\n  background-position: center 70%;\r\n  position: relative;\r\n  overflow: hidden;\r\n  @include media-breakpoint-up(sm) {\r\n    height: 400px;\r\n  }\r\n  h1 {\r\n    background-color: rgba(41, 41, 41, 0.6);\r\n    position: absolute;\r\n    bottom: 10%;\r\n    right: 0;\r\n    @include media-breakpoint-up(sm) {\r\n      left: 60%;\r\n    }\r\n  }\r\n}\r\n.s1-animate {\r\n  animation-name: s1-animate;\r\n  animation-duration: 1s;\r\n  animation-direction: normal;\r\n}\r\n@keyframes s1-animate {\r\n  0% {\r\n    opacity: 0;\r\n    transform: translateX(-200%);\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n    transform: translateX(0);\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Banner.vue?vue&type=template&id=a0587792&scoped=true\"\nimport script from \"./Banner.vue?vue&type=script&lang=js\"\nexport * from \"./Banner.vue?vue&type=script&lang=js\"\n\nimport \"./Banner.vue?vue&type=style&index=0&id=a0587792&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-a0587792\"\n\nexport default script","<template>\r\n  <main id=\"user-cart\">\r\n    <Loading :active=\"isLoading\">\r\n      <div class=\"loadingio-spinner-spin-xmpavumjb\">\r\n        <div class=\"ldio-ylwm2fadiqf\">\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n        </div>\r\n      </div>\r\n    </Loading>\r\n    <section class=\"cart-section-1\">\r\n      <Banner :title=\"title\" :imgUrl=\"publicPath + imgUrl\"></Banner>\r\n    </section>\r\n    <section class=\"cart-section-2\">\r\n      <div v-if=\"cart.total\" class=\"container py-5\">\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table border-light\">\r\n            <thead class=\"bg-info text-white\">\r\n              <tr>\r\n                <th width=\"360\" class=\"ps-3 border-0\">\r\n                  商品名稱\r\n                </th>\r\n                <th\r\n                  width=\"180\"\r\n                  class=\"d-none d-sm-table-cell text-center border-0\"\r\n                >\r\n                  單價\r\n                </th>\r\n                <th width=\"200\" class=\"text-center border-0\">\r\n                  數量\r\n                  <span class=\"d-sm-none\"> & 金額</span>\r\n                </th>\r\n                <th\r\n                  width=\"120\"\r\n                  class=\"text-center border-0 d-none d-sm-table-cell\"\r\n                >\r\n                  金額\r\n                </th>\r\n                <th width=\"120\" class=\"text-center border-0\">刪除</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(item, i) in cart.carts\" :key=\"i\">\r\n                <td class=\"border-light\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-5 d-none d-lg-block\">\r\n                      <img\r\n                        class=\"cart-img\"\r\n                        :src=\"item.product.images[0]\"\r\n                        alt=\"產品圖片\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"col-lg-7\">\r\n                      {{ item.product.belong_to }}\r\n                      <br />\r\n                      {{ item.product.title }}\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td\r\n                  class=\"text-center align-middle border-light d-none d-sm-table-cell\"\r\n                >\r\n                  $ {{ $filters.currency(item.product.price) }}\r\n                </td>\r\n                <td class=\"text-center align-middle border-light\">\r\n                  <div\r\n                    class=\"input-quantity d-flex justify-content-center border m-0\"\r\n                  >\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-sm rounded-0\"\r\n                      @click=\"decreaseQty(item)\"\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"16\"\r\n                        height=\"16\"\r\n                        fill=\"currentColor\"\r\n                        class=\"bi bi-dash text-muted\"\r\n                        viewBox=\"0 0 16 16\"\r\n                      >\r\n                        <path\r\n                          d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                    <input\r\n                      class=\"w-50 text-center border-0 border-start border-end\"\r\n                      type=\"text\"\r\n                      v-model=\"item.qty\"\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-sm rounded-0\"\r\n                      @click=\"increaseQty(item)\"\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"16\"\r\n                        height=\"16\"\r\n                        fill=\"currentColor\"\r\n                        class=\"bi bi-plus text-muted\"\r\n                        viewBox=\"0 0 16 16\"\r\n                      >\r\n                        <path\r\n                          d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                  <span class=\"d-block d-sm-none mt-2\"\r\n                    >$ {{ $filters.currency(item.total) }}</span\r\n                  >\r\n                </td>\r\n                <td\r\n                  class=\"text-center align-middle border-light d-none d-sm-table-cell\"\r\n                >\r\n                  $ {{ $filters.currency(item.total) }}\r\n                </td>\r\n                <td class=\"text-center align-middle border-light\">\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-sm btn-outline-danger fs-5 btn-hover-white\"\r\n                    @click=\"removeCartItem(item)\"\r\n                  >\r\n                    <i class=\"bi bi-trash\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n            <tfoot>\r\n              <tr class=\"d-sm-none\">\r\n                <td colspan=\"2\" class=\"text-end\">小計</td>\r\n                <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\r\n              </tr>\r\n              <tr v-if=\"cart.final_total !== cart.total\" class=\"d-sm-none\">\r\n                <td colspan=\"2\" class=\"text-end text-success\">折扣</td>\r\n                <td class=\"text-end text-success\">\r\n                  - {{ $filters.currency(cart.total - cart.final_total) }}\r\n                </td>\r\n              </tr>\r\n              <tr class=\"d-none d-sm-table-row\">\r\n                <td colspan=\"4\" class=\"text-end\">小計</td>\r\n                <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\r\n              </tr>\r\n              <tr\r\n                v-if=\"cart.final_total !== cart.total\"\r\n                class=\"d-none d-sm-table-row\"\r\n              >\r\n                <td colspan=\"4\" class=\"text-end text-success\">折扣</td>\r\n                <td class=\"text-end text-success\">\r\n                  - {{ $filters.currency(cart.total - cart.final_total) }}\r\n                </td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n        <div class=\"row justify-content-end\">\r\n          <div class=\"col-sm-8 col-lg-6\">\r\n            <div class=\"input-group mb-3 input-group-sm\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control rounded-0\"\r\n                v-model=\"coupon_code\"\r\n                placeholder=\"請輸入優惠碼\"\r\n              />\r\n              <div class=\"input-group-append\">\r\n                <button\r\n                  class=\"btn btn-outline-info rounded-0\"\r\n                  type=\"button\"\r\n                  @click=\"addCouponCode\"\r\n                >\r\n                  套用優惠碼\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"mb-3 text-end\">\r\n              總金額：\r\n              <span class=\"text-warning fs-5 fw-bold\"\r\n                >NT$ {{ $filters.currency(cart.final_total) }}</span\r\n              >\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-5\">\r\n                <a\r\n                  href=\"#/products\"\r\n                  class=\"w-100 mb-3 btn btn-outline-success rounded-0 px-3\"\r\n                  ><i class=\"bi bi-caret-left-fill\"></i> 繼續購物\r\n                </a>\r\n              </div>\r\n              <div class=\"col-sm-2\"></div>\r\n              <div class=\"col-sm-5\">\r\n                <a\r\n                  href=\"#/order\"\r\n                  class=\"w-100 mb-3 btn btn-success text-white rounded-0 px-3\"\r\n                  >前往結帳 <i class=\"bi bi-caret-right-fill\"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"container py-5\">\r\n        <h2 class=\"fw-bold mb-3\">目前還沒有加入商品喔</h2>\r\n        <a href=\"#/products\" class=\"btn btn-primary\"\r\n          >尋找喜歡的露營區 <i class=\"bi bi-caret-right-fill\"></i\r\n        ></a>\r\n      </div>\r\n    </section>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport Banner from '@/components/Banner.vue'\r\nexport default {\r\n  components: {\r\n    Banner\r\n  },\r\n  data () {\r\n    return {\r\n      publicPath: process.env.BASE_URL,\r\n      title: '購物清單',\r\n      imgUrl: 'images/cart/cart-01.jpg',\r\n      cart: {},\r\n      coupon_code: '',\r\n      isLoading: false\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getCarts (mode) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(url).then(res => {\r\n        this.isLoading = false\r\n        this.cart = res.data.data\r\n        this.sendCart()\r\n        if (mode === 'update') {\r\n          this.emitter.emit('send-message', {\r\n            success: true,\r\n            content: '更新購物車成功!'\r\n          })\r\n        }\r\n        if (mode === 'delete') {\r\n          this.emitter.emit('send-message', {\r\n            success: true,\r\n            content: '已從購物車中移除!'\r\n          })\r\n        }\r\n        if (mode === 'addCoupon') {\r\n          this.emitter.emit('send-message', {\r\n            success: true,\r\n            content: '套用優惠券!'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    increaseQty (item) {\r\n      item.qty++\r\n      this.updateCarts(item)\r\n    },\r\n    decreaseQty (item) {\r\n      item.qty--\r\n      this.updateCarts(item)\r\n    },\r\n    updateCarts (item) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.$http.put(url, { data: cart }).then(res => {\r\n        this.getCarts('update')\r\n      })\r\n    },\r\n    removeCartItem (item) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      this.$http.delete(url).then(res => {\r\n        this.getCarts('delete')\r\n      })\r\n    },\r\n    sendCart () {\r\n      this.emitter.emit('sendCart', this.cart.carts)\r\n    },\r\n    addCouponCode () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.coupon_code\r\n      }\r\n      this.$http.post(url, { data: coupon }).then(res => {\r\n        console.log(res)\r\n        if (res.data.status) {\r\n          this.getCarts('addCoupon')\r\n        } else {\r\n          this.emitter.emit('send-message', {\r\n            success: false,\r\n            content: res.data.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getCarts()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cart-img {\r\n  object-fit: cover;\r\n  width: 100%;\r\n  height: 100px;\r\n}\r\n</style>\r\n","import { render } from \"./Cart.vue?vue&type=template&id=7bde633b&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=7bde633b&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7bde633b\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Cart.vue?vue&type=style&index=0&id=7bde633b&lang=scss&scoped=true\""],"sourceRoot":""}