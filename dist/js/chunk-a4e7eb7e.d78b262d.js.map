{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/views/EditProduct.vue","webpack:///./src/views/EditProduct.vue?9f65","webpack:///./node_modules/core-js/internals/object-to-array.js"],"names":["$","$values","values","target","stat","O","class","for","id","active","isLoading","type","placeholder","temProduct","title","region","updateCities","city","cities","key","address","features","feature","value","rows","description","content","notice","true-value","false-value","is_enabled","imageUrl","ref","uploadFile","images","push","image","setItemRef","uploadMoreFiles","splice","src","alt","openModal","temTypes","price","unit","deleteTemType","cancel","updateProduct","temType","updateTemType","data","watch","handler","this","length","map","belong_to","deep","mixins","productMixin","promiseMixin","created","$route","params","productId","getProduct","methods","api","$http","get","then","res","product","products","getTypes","productsArr","Object","types","filter","createTemTypesPromise","createPromise","deleteTypesPromise","deletePromise","updatePromise","console","log","pushMessageState","Promise","all","$router","render","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","keys","i","result","call","module","exports","entries"],"mappings":"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","file":"js/chunk-a4e7eb7e.d78b262d.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","<template>\r\n  <Loading :active=\"isLoading\">\r\n    <div class=\"loadingio-spinner-spin-xmpavumjb\">\r\n      <div class=\"ldio-ylwm2fadiqf\">\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n      </div>\r\n    </div>\r\n  </Loading>\r\n  <div class=\"container mt-4\">\r\n    <h1 class=\"mb-4 fs-2 fw-bolder\">編輯營區</h1>\r\n    <div class=\"row gx-5\">\r\n      <div class=\"col-12\">\r\n        <h2\r\n          class=\"fs-4 fw-bolder px-3 py-1 border-start border-primary border-4 rounded mb-3\"\r\n        >\r\n          營區資訊\r\n        </h2>\r\n      </div>\r\n      <div class=\"col-12\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"title\" class=\"form-label\">營區名稱</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"title\"\r\n            placeholder=\"請輸入營區名稱\"\r\n            v-model=\"temProduct.title\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"row gx-2\">\r\n          <div class=\"mb-3 col-md-3\">\r\n            <label for=\"region\" class=\"form-label\">地區</label>\r\n            <select\r\n              id=\"region\"\r\n              class=\"form-select\"\r\n              v-model=\"temProduct.region\"\r\n              @change=\"updateCities\"\r\n            >\r\n              <option>北部</option>\r\n              <option>中部</option>\r\n              <option>南部</option>\r\n              <option>東部</option>\r\n              <option>離島</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"mb-3 col-md-3\">\r\n            <label for=\"city\" class=\"form-label\">縣市</label>\r\n            <select id=\"city\" class=\"form-select\" v-model=\"temProduct.city\">\r\n              <option v-for=\"city in cities\" :key=\"city\">{{ city }}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"mb-3 col-md-6\">\r\n            <label for=\"address\" class=\"form-label\">地址</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"address\"\r\n              placeholder=\"請輸入詳細地址\"\r\n              v-model=\"temProduct.address\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <div class=\"mb-2\">營區特色</div>\r\n          <div id=\"features\" class=\"mb-3 card d-block p-3\">\r\n            <div v-for=\"feature in features\" :key=\"feature\">\r\n              <input\r\n                class=\"form-check-input me-1\"\r\n                type=\"checkbox\"\r\n                :id=\"feature\"\r\n                :value=\"feature\"\r\n                v-model=\"temProduct.features\"\r\n              />\r\n              <label class=\"form-check-label\" :for=\"feature\">{{\r\n                feature\r\n              }}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"description\" class=\"form-label\">營區描述</label>\r\n          <textarea\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            rows=\"10\"\r\n            id=\"description\"\r\n            placeholder=\"請輸入營區描述\"\r\n            v-model=\"temProduct.description\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"content\" class=\"form-label\">營區須知</label>\r\n          <textarea\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            rows=\"10\"\r\n            id=\"content\"\r\n            placeholder=\"請輸入營區營區須知\"\r\n            v-model=\"temProduct.content\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"notice\" class=\"form-label\">注意事項</label>\r\n          <textarea\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            rows=\"10\"\r\n            id=\"notice\"\r\n            placeholder=\"請輸入營區注意事項\"\r\n            v-model=\"temProduct.notice\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <div class=\"form-check\">\r\n            <input\r\n              class=\"form-check-input\"\r\n              type=\"checkbox\"\r\n              :true-value=\"1\"\r\n              :false-value=\"0\"\r\n              id=\"is_enabled\"\r\n              v-model=\"temProduct.is_enabled\"\r\n            />\r\n            <label class=\"form-check-label\" for=\"is_enabled\">\r\n              是否啟用\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <br />\r\n      </div>\r\n\r\n      <div class=\"col-12\">\r\n        <h2\r\n          class=\"fs-4 fw-bolder px-3 py-1 border-start border-primary border-4 rounded mb-3\"\r\n        >\r\n          營區照片\r\n        </h2>\r\n      </div>\r\n      <div class=\"col-12\">\r\n        <label class=\"form-label\">營區封面照片</label>\r\n        <div class=\"d-flex\">\r\n          <div class=\"flex-fill mb-3 me-3\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"image\"\r\n              v-model=\"temProduct.imageUrl\"\r\n              placeholder=\"請輸入圖片連結\"\r\n            />\r\n          </div>\r\n          <div class=\"d-flex align-items-center mb-3 me-3\">\r\n            <span>或上傳檔案</span>\r\n          </div>\r\n          <div class=\"flex-fill mb-3\">\r\n            <input\r\n              type=\"file\"\r\n              id=\"imageFile\"\r\n              class=\"form-control\"\r\n              ref=\"fileInput\"\r\n              @change=\"uploadFile\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <div class=\"mb-3\">\r\n            <button\r\n              class=\"btn btn-outline-primary btn-sm d-block\"\r\n              @click=\"temProduct.images.push('')\"\r\n            >\r\n              新增更多照片\r\n            </button>\r\n          </div>\r\n\r\n          <div\r\n            class=\"d-flex\"\r\n            v-for=\"(image, key) in temProduct.images\"\r\n            :key=\"key\"\r\n          >\r\n            <div class=\"flex-fill mb-3 me-3\">\r\n              <input\r\n                type=\"url\"\r\n                class=\"form-control form-control\"\r\n                v-model=\"temProduct.images[key]\"\r\n                placeholder=\"請輸入連結\"\r\n              />\r\n            </div>\r\n            <div class=\"d-flex align-items-center mb-3 me-3\">\r\n              <span>或上傳檔案</span>\r\n            </div>\r\n            <div class=\"flex-fill mb-3 me-2\">\r\n              <input\r\n                type=\"file\"\r\n                class=\"form-control\"\r\n                :ref=\"setItemRef\"\r\n                @change=\"uploadMoreFiles(key)\"\r\n              />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <button\r\n                class=\"btn btn-outline-danger\"\r\n                type=\"button\"\r\n                @click=\"temProduct.images.splice(key, 1)\"\r\n              >\r\n                移除\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mb-3\" v-if=\"temProduct.imageUrl || temProduct.images\">\r\n          <div class=\"row image-wall\">\r\n            <div class=\"col-sm-6 col-lg-3 mb-3\" v-if=\"temProduct.imageUrl\">\r\n              <img\r\n                class=\"product-image\"\r\n                :src=\"temProduct.imageUrl\"\r\n                :alt=\"temProduct.title\"\r\n              />\r\n            </div>\r\n            <div\r\n              class=\"col-sm-6 col-lg-3 mb-3\"\r\n              v-for=\"(image, key) in temProduct.images\"\r\n              :key=\"key\"\r\n            >\r\n              <img\r\n                class=\"product-image\"\r\n                :src=\"temProduct.images[key]\"\r\n                :alt=\"temProduct.title\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n      </div>\r\n\r\n      <div class=\"col-12 d-flex mb-3\">\r\n        <h2\r\n          class=\"fs-4 fw-bolder px-3 py-1 border-start border-primary border-4 rounded\"\r\n        >\r\n          營地種類\r\n        </h2>\r\n        <div class=\"ms-auto\">\r\n          <button\r\n            class=\"btn btn-primary\"\r\n            type=\"button\"\r\n            @click=\"openModal(true)\"\r\n          >\r\n            新增種類\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-12\">\r\n        <div class=\"mb-3\">\r\n          <div class=\"row row-cols-1 row-cols-lg-3 g-4\">\r\n            <div class=\"col\" v-for=\"type in temTypes\" :key=\"type.title\">\r\n              <div class=\"card bg-light h-100\">\r\n                <img\r\n                  v-if=\"type.images && type.images[0]\"\r\n                  class=\"type-image\"\r\n                  :src=\"type.images[0]\"\r\n                  :alt=\"type\"\r\n                />\r\n                <div class=\"card-body\">\r\n                  <div\r\n                    class=\"card-title d-flex align-items-center justify-content-between\"\r\n                  >\r\n                    <h3 class=\"fs-5 m-0\">{{ type.title }}</h3>\r\n                    <small class=\"text-end\"\r\n                      >NT${{ type.price }} / {{ type.unit }}</small\r\n                    >\r\n                  </div>\r\n                  <div class=\"card-text\">\r\n                    <p>{{ type.content }}</p>\r\n                    <small v-if=\"type.is_enabled\" class=\"text-success\"\r\n                      ><i class=\"bi bi-check-circle-fill\"></i> 已啟用</small\r\n                    >\r\n                    <small v-else class=\"text-muted\"\r\n                      ><i class=\"bi bi-check-circle\"></i> 未啟用</small\r\n                    >\r\n                  </div>\r\n                </div>\r\n                <div class=\"card-footer bg-light border-0 p-0\">\r\n                  <div class=\"btn-group w-100\">\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-outline-success w-50 btn-left\"\r\n                      @click=\"openModal(false, type)\"\r\n                    >\r\n                      編輯\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-outline-danger w-50 btn-right\"\r\n                      @click=\"deleteTemType(type)\"\r\n                    >\r\n                      刪除\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <br />\r\n        </div>\r\n        <hr />\r\n        <div class=\"text-center my-5\">\r\n          <button\r\n            class=\"btn btn-outline-secondary px-5 me-3\"\r\n            type=\"button\"\r\n            @click=\"cancel\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            class=\"btn btn-primary px-5\"\r\n            type=\"button\"\r\n            @click=\"updateProduct\"\r\n          >\r\n            確認\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <type-modal ref=\"typeModal\" :type=\"temType\" @update-type=\"updateTemType\" />\r\n</template>\r\n\r\n<script>\r\nimport productMixin from '../mixins/productMixin'\r\nimport promiseMixin from '../mixins/promiseMixin'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      temProduct: {},\r\n      id: '',\r\n      isLoading: false\r\n    }\r\n  },\r\n  watch: {\r\n    temProduct: {\r\n      handler () {\r\n        if (this.temTypes.length) {\r\n          this.temTypes.map(type => {\r\n            type.belong_to = this.temProduct.title\r\n          })\r\n        }\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  mixins: [productMixin, promiseMixin],\r\n  created () {\r\n    this.id = this.$route.params.productId\r\n    this.getProduct()\r\n  },\r\n  methods: {\r\n    getProduct () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(api).then(res => {\r\n        this.isLoading = false\r\n        const product = res.data.products[this.id]\r\n        this.temProduct = product.features\r\n          ? product\r\n          : { ...product, features: [] }\r\n        this.getTypes()\r\n      })\r\n    },\r\n    getTypes () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/all`\r\n      this.$http.get(api).then(res => {\r\n        const productsArr = Object.values(res.data.products)\r\n        this.types = productsArr.filter(\r\n          product => product.belong_to === this.temProduct.title\r\n        )\r\n        this.temTypes = productsArr.filter(\r\n          product => product.belong_to === this.temProduct.title\r\n        )\r\n      })\r\n    },\r\n    updateProduct () {\r\n      const createTemTypesPromise = this.temTypes.map(type =>\r\n        this.createPromise(type)\r\n      )\r\n      const deleteTypesPromise = this.types.map(type =>\r\n        this.deletePromise(type)\r\n      )\r\n      this.updatePromise(this.temProduct)\r\n        .then(res => {\r\n          console.log(res)\r\n          this.pushMessageState(res, '營區更新')\r\n          return Promise.all(deleteTypesPromise)\r\n        })\r\n        .then(res => {\r\n          console.log(res)\r\n          return Promise.all(createTemTypesPromise)\r\n        })\r\n        .then(res => {\r\n          console.log(res)\r\n          return this.$router.push('/admin/products')\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./EditProduct.vue?vue&type=template&id=e3ba8538\"\nimport script from \"./EditProduct.vue?vue&type=script&lang=js\"\nexport * from \"./EditProduct.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n"],"sourceRoot":""}